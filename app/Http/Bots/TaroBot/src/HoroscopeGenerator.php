<?php


namespace App\Http\Bots\TaroBot\src;

use App\Http\Bots\TaroBot\src\Models\Horoscope;
use App\Http\Bots\TaroBot\src\Reps\ZodiacRep;

class HoroscopeGenerator
{

    // Массив знаков зодиака и их характеристик
    public static array $signs = [
        "Овен" => ["энергия", "решимость", "страсть", "спонтанность"],
        "Телец" => ["стабильность", "практичность", "уют", "настойчивость"],
        "Близнецы" => ["общительность", "любознательность", "гибкость", "легкость"],
        "Рак" => ["эмоция", "забота", "чуткость", "интуиция"],
        "Лев" => ["уверенность", "амбиция", "яркость", "лидерство"],
        "Дева" => ["анализ", "порядок", "точность", "практичность"],
        "Весы" => ["гармония", "дипломатия", "красота", "справедливость"],
        "Скорпион" => ["страсть", "глубина", "сила", "таинственность"],
        "Стрелец" => ["оптимизм", "свобода", "авантюризм", "энтузиазм"],
        "Козерог" => ["настойчивость", "дисциплина", "целеустремленность", "ответственность"],
        "Водолей" => ["оригинальность", "независимость", "новаторство", "свободолюбие"],
        "Рыбы" => ["интуиция", "мечтательность", "сочувствие", "вдохновение"]
    ];

    // Варианты для каждого раздела
    public static array $general = [
        "Сегодня ваша [trait1] открывает новые возможности",
        "В этом месяце [trait2] вдохновляет вас на действия",
        "В этом году [trait3] ведет вас к успеху",
        "Сегодня [trait4] приносит вам гармонию",
        "В этом месяце ваша [trait1] сияет ярче обычного",
        "В этом году [trait2] помогает вам расти",
        "Сегодня [trait3] наполняет вас уверенностью",
        "В этом месяце [trait4] становится вашим преимуществом",
        "В этом году ваша [trait1] привлекает удачу",
        "Сегодня [trait2] делает вас заметнее",
        "Сегодня [trait3] вдохновляет на перемены",
        "В этом месяце ваша [trait1] удивляет окружающих",
        "В этом году [trait4] направляет вас к цели",
        "Сегодня [trait2] придает вам сил",
        "В этом месяце [trait3] открывает новые горизонты",
        "В этом году ваша [trait1] становится ключом к прогрессу",
        "Сегодня [trait4] помогает вам найти баланс",
        "В этом месяце [trait2] заряжает вас энергией",
        "В этом году [trait3] делает вас лидером",
        "Сегодня ваша [trait1] привносит радость",
        "В этом месяце [trait4] приносит вам успех",
        "В этом году [trait2] открывает двери к мечтам",
        "Сегодня [trait3] помогает вам выделиться",
        "В этом месяце ваша [trait1] вдохновляет других",
        "В этом году [trait4] укрепляет вашу позицию",
        "Сегодня [trait2] наполняет день смыслом",
        "В этом месяце [trait3] приносит ясность",
        "В этом году ваша [trait1] ведет к победам",
        "Сегодня [trait4] дарит вам спокойствие",
        "В этом месяце [trait2] помогает вам сиять"
    ];

    public static array $work = [
        "Ваша [trait1] привлекает новые возможности на работе",
        "Успех приходит благодаря [trait2] в делах",
        "Сегодня [trait3] обеспечивает стабильность в финансах",
        "В этом месяце [trait4] помогает завершить проекты",
        "В этом году ваша [trait1] ведет к карьерному росту",
        "Сегодня [trait2] приносит удачу в переговорах",
        "Ваша [trait3] делает работу продуктивнее",
        "В этом месяце [trait4] укрепляет ваш авторитет",
        "В этом году [trait1] открывает финансовые перспективы",
        "Сегодня [trait2] помогает избежать ошибок",
        "Ваша [trait3] привлекает внимание коллег",
        "В этом месяце [trait4] приносит стабильный доход",
        "В этом году [trait1] вдохновляет на новые идеи",
        "Сегодня [trait2] делает вас эффективнее",
        "Ваша [trait3] обеспечивает успех в команде",
        "В этом месяце [trait4] помогает справляться с задачами",
        "В этом году [trait1] приносит прибыль",
        "Сегодня [trait2] укрепляет вашу репутацию",
        "Ваша [trait3] ведет к удачным решениям",
        "В этом месяце [trait4] открывает новые пути",
        "Сегодня [trait1] помогает выделиться на работе",
        "В этом году [trait2] приносит финансовую выгоду",
        "Ваша [trait3] делает проекты успешными",
        "В этом месяце [trait4] поддерживает ваш прогресс",
        "Сегодня [trait1] вдохновляет на действия",
        "В этом году [trait2] укрепляет позиции",
        "Ваша [trait3] привносит порядок в дела",
        "В этом месяце [trait4] ведет к достижениям",
        "Сегодня [trait1] приносит ясность в работе",
        "В этом году [trait2] помогает вам расти"
    ];
    public static array $love = [
        "Сегодня [trait1] добавляет тепла в отношения",
        "В этом месяце [trait2] укрепляет вашу связь",
        "В этом году [trait3] приносит романтику",
        "Ваша [trait4] делает любовь ярче",
        "Сегодня [trait1] вдохновляет на близость",
        "В этом месяце [trait2] привносит гармонию",
        "В этом году [trait3] открывает новые чувства",
        "Ваша [trait4] привлекает внимание",
        "Сегодня [trait1] делает вас неотразимым",
        "В этом месяце [trait2] приносит нежность",
        "В этом году [trait3] укрепляет любовь",
        "Ваша [trait4] вдохновляет партнера",
        "Сегодня [trait1] зажигает искры",
        "В этом месяце [trait2] делает отношения глубже",
        "В этом году [trait3] приносит страсть",
        "Ваша [trait4] создает уют в любви",
        "Сегодня [trait1] привносит радость",
        "В этом месяце [trait2] помогает сблизиться",
        "В этом году [trait3] делает вас ближе",
        "Ваша [trait4] открывает сердце",
        "Сегодня [trait1] приносит легкость в любовь",
        "В этом месяце [trait2] вдохновляет на чувства",
        "В этом году [trait3] ведет к гармонии",
        "Ваша [trait4] делает вас желанным",
        "Сегодня [trait1] укрепляет связь",
        "В этом месяце [trait2] приносит тепло",
        "В этом году [trait3] вдохновляет на романтику",
        "Ваша [trait4] делает любовь сильнее",
        "Сегодня [trait1] привлекает новые знакомства",
        "В этом месяце [trait2] зажигает чувства"
    ];

    public static array $health = [
        "Сегодня [trait1] помогает вам чувствовать себя лучше",
        "В этом месяце [trait2] поддерживает ваш тонус",
        "В этом году [trait3] укрепляет здоровье",
        "Ваша [trait4] приносит энергию",
        "Сегодня [trait1] вдохновляет на активность",
        "В этом месяце [trait2] помогает расслабиться",
        "В этом году [trait3] поддерживает баланс",
        "Ваша [trait4] укрепляет силы",
        "Сегодня [trait1] приносит бодрость",
        "В этом месяце [trait2] улучшает самочувствие",
        "В этом году [trait3] помогает отдыхать",
        "Ваша [trait4] поддерживает здоровье",
        "Сегодня [trait1] делает вас энергичнее",
        "В этом месяце [trait2] приносит спокойствие",
        "В этом году [trait3] укрепляет иммунитет",
        "Ваша [trait4] помогает справляться со стрессом",
        "Сегодня [trait1] вдохновляет на прогулки",
        "В этом месяце [trait2] поддерживает форму",
        "В этом году [trait3] приносит ясность",
        "Ваша [trait4] делает вас сильнее",
        "Сегодня [trait1] помогает восстановиться",
        "В этом месяце [trait2] укрепляет энергию",
        "В этом году [trait3] поддерживает активность",
        "Ваша [trait4] приносит гармонию",
        "Сегодня [trait1] улучшает настроение",
        "В этом месяце [trait2] помогает отдыхать",
        "В этом году [trait3] делает вас здоровее",
        "Ваша [trait4] вдохновляет на заботу",
        "Сегодня [trait1] приносит легкость",
        "В этом месяце [trait2] укрепляет тело"
    ];

    // Функция для замены placeholder'ов на черты знака
    public static function generateText($template, $traits) {
        $text = $template;
        $text = str_replace("[trait1]", $traits[0], $text);
        $text = str_replace("[trait2]", $traits[1], $text);
        $text = str_replace("[trait3]", $traits[2], $text);
        $text = str_replace("[trait4]", $traits[3], $text);
        return $text;
    }

    public static function generate(): void
    {
        // Генерация гороскопов
        $horoscopes = [];
        $periods = ["day", "month", "year"];

        foreach (self::$signs as $sign => $traits) {
            foreach ($periods as $period) {
                for ($i = 0; $i < 10; $i++) {
                    $generalText = self::generateText(self::$general[$i], $traits);
                    $workText = self::generateText(self::$work[$i], $traits);
                    $loveText = self::generateText(self::$love[$i], $traits);
                    $healthText = self::generateText(self::$health[$i], $traits);

                    $text = "<strong>Общий настрой</strong>: $generalText | <strong>Работа и финансы</strong>: $workText | <strong>Любовь</strong>: $loveText | <strong>Здоровье</strong>: $healthText";

                    ZodiacRep::create(
                        $text,
                        $sign,
                        $period
                    );
                }
            }
        }
    }
}
